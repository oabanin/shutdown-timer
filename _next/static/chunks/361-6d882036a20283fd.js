(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{2361:(e,t,n)=>{"use strict";n.d(t,{w:()=>ed});var s=n(95155),o=n(12115),a=n(56153),i=n(1396);let r=(0,o.createContext)(void 0),l=e=>{let{children:t}=e,[n,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(""),[d,x]=(0,o.useState)("success"),h=(e,t)=>{"clickaway"!==t&&l(!1)};return(0,s.jsxs)(r.Provider,{value:{showSnackbar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";u(e),x(t),l(!0)}},children:[t,(0,s.jsx)(a.A,{open:n,autoHideDuration:6e3,onClose:h,children:(0,s.jsx)(i.A,{onClose:h,severity:d,variant:"filled",sx:{width:"100%"},children:c})})]})},c=()=>{let e=(0,o.useContext)(r);if(!e)throw Error("useSnackbar must be used within a SnackbarProvider");return e};var u=n(69606),d=n(9561),x=n(68998),h=n(69393),m=n(20257),p=n(60615),j=n(22678),f=function(e){return e.shutdown="shutdown",e.restart="restart",e.sleep="sleep",e.hibernate="hibernate",e.logout="logout",e.lock="lock",e.abort="abort",e}({}),b=function(e){return e[e.immediate=0]="immediate",e[e.tenMinutes=600]="tenMinutes",e[e.twentyMinutes=1200]="twentyMinutes",e[e.halfAnHour=1800]="halfAnHour",e[e.oneHour=3600]="oneHour",e[e.twoHours=7200]="twoHours",e[e.threeHours=10800]="threeHours",e[e.fourHours=14400]="fourHours",e[e.fiveHours=18e3]="fiveHours",e[e.sixHours=21600]="sixHours",e}({}),A=function(e){return e.seconds="seconds",e.minutes="minutes",e.date="date",e}({}),v=function(e){return e.WINDOWS="Windows",e.MACOS="macOS",e.LINUX="Linux",e}({});let w=new Map([["Windows",["Windows"]],["macOS",["macOS"]],["Linux",["Linux","PCLinuxOS","VectorLinux","Unix","Ubuntu","Debian","Fedora"]]]);var g=function(e){return e.win="\r\n",e.masOs="\n",e}({}),y=n(7266);function S(){let{control:e,setValue:t}=(0,u.xW)(),n=(0,y.useTranslations)(),o=(0,u.FH)({control:e,name:"os"});return(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:n("chooseOs")}),(0,s.jsx)(j.A,{children:(0,s.jsxs)(m.A,{value:o,onChange:e=>{t("os",e.target.value)},children:[(0,s.jsx)(p.A,{value:v.WINDOWS,control:(0,s.jsx)(h.A,{}),label:"Windows Vista/7/8/10/11"}),(0,s.jsx)(p.A,{value:v.MACOS,control:(0,s.jsx)(h.A,{}),label:"MacOS"})]})})]})}var C=n(72926),T=n(82354);function H(){let{control:e,setValue:t}=(0,u.xW)(),[n,o]=(0,u.FH)({control:e,name:["action","os"]}),a=(0,y.useTranslations)(),i=o===v.MACOS;return(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:a("chooseAction")}),(0,s.jsx)(j.A,{children:(0,s.jsx)(m.A,{value:n,onChange:e=>{t("action",e.target.value)},children:(0,s.jsxs)(x.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[(0,s.jsx)(p.A,{value:f.shutdown,control:(0,s.jsx)(h.A,{}),label:a("shutdown")}),(0,s.jsx)(p.A,{disabled:i,value:f.hibernate,control:(0,s.jsx)(h.A,{}),label:a("hibernate")}),(0,s.jsx)(p.A,{value:f.restart,control:(0,s.jsx)(h.A,{}),label:a("restart")}),(0,s.jsx)(p.A,{value:f.logout,control:(0,s.jsx)(h.A,{}),label:a("logout")}),(0,s.jsx)(p.A,{value:f.sleep,control:(0,s.jsx)(h.A,{}),label:a("sleep")}),(0,s.jsx)(p.A,{value:f.lock,control:(0,s.jsx)(h.A,{}),label:a("lock")}),(0,s.jsx)(p.A,{disabled:i,value:f.abort,control:(0,s.jsx)(h.A,{}),label:(0,s.jsxs)(x.A,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[a("abort"),(0,s.jsx)(C.A,{sx:{opacity:i?.4:1},disableFocusListener:i,disableHoverListener:i,disableInteractive:i,disableTouchListener:i,title:a("canOnly"),arrow:!0,children:(0,s.jsx)(T.A,{fontSize:"small",color:"action"})})]})})]})})})]})}var O=n(83726);function W(){let{control:e,setValue:t}=(0,u.xW)(),[n,o]=(0,u.FH)({control:e,name:["isForced","os"]}),a=(0,y.useTranslations)(),i=o===v.WINDOWS,r=o===v.MACOS;return(0,s.jsx)(p.A,{disabled:!i,control:(0,s.jsx)(O.A,{checked:n,onChange:e=>{t("isForced",e.target.checked)}}),label:(0,s.jsxs)(x.A,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[a("forced"),(0,s.jsx)(C.A,{sx:{opacity:r?.4:1},disableFocusListener:r,disableHoverListener:r,disableInteractive:r,disableTouchListener:r,title:a("forces"),arrow:!0,children:(0,s.jsx)(T.A,{fontSize:"small",color:"action"})})]})})}function k(){let e=(0,y.useTranslations)(),{control:t,setValue:n}=(0,u.xW)(),[o,a]=(0,u.FH)({control:t,name:["isOneLine","os"]}),i=v.WINDOWS===a;return(0,s.jsx)(p.A,{disabled:i,control:(0,s.jsx)(O.A,{checked:o,onChange:e=>{n("isOneLine",e.target.checked)}}),label:e("oneLineCommand")})}var M=n(13271);function L(e,t){return Object.values(t).map(String).includes(String(e))}var N=n(21455),F=n.n(N);let _=e=>{let t,{action:n,os:s,time:o,date:a,seconds:i,minutes:r}=e,l=s===v.MACOS;L(o,b)&&(t=function(e,t){return Object.keys(t).find(n=>String(t[n])===String(e))}(o,b)),L(o,A)&&(o===A.minutes&&(t=r+"min"),o===A.seconds&&(t=i+"sec"),o===A.date&&(t=a.isSame(F()(),"day")?I(a):D(a)));let c=n===f.abort?"":"_".concat(t||"");return"".concat(n).concat(c).concat(l?".command":".bat")},I=e=>e.format("HHmm"),D=e=>{let t=e.format("YYYY-MM-DD"),n=e.format("HH-mm");return"".concat(t,"_").concat(n)},E=()=>{let{control:e,setValue:t,getFieldState:n}=(0,u.xW)(),[a,i,r,l,c,d,x]=(0,u.FH)({control:e,name:["action","time","date","seconds","minutes","os","filename"]}),h=_({action:a,time:i,date:r,seconds:l,minutes:c,os:d}),m=(0,y.useTranslations)();return(0,o.useEffect)(()=>{n("filename").isTouched||t("filename",h)},[h]),(0,s.jsx)(M.A,{onChange:e=>{t("filename",e.target.value,{shouldTouch:!0})},sx:{width:"100%"},label:m("filename"),value:x})};var P=n(67663),U=n(16847),R=n(2275),B=n(88161),z=n.n(B);function V(e){let t=Math.floor(e/2592e3),n=Math.floor((e%=2592e3)/86400),s=Math.floor((e%=86400)/3600),o=Math.floor((e%=3600)/60),a=e%60,i={month:"mo",day:"d",hour:"h",minute:"min",second:"s"},r=(e,t)=>{if(0===e)return null;let n=i[t]||t;return"".concat(e).concat(n)};return[r(t,"month"),r(n,"day"),r(s,"hour"),r(o,"minute"),r(a,"second")].filter(Boolean).join(" ")}function Y(){let{control:e,setValue:t,getFieldState:n}=(0,u.xW)(),[o,a,i,r]=(0,u.FH)({control:e,name:["time","date","seconds","minutes"]}),l=(0,y.useTranslations)();return(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:l("chooseTime")}),(0,s.jsx)(j.A,{children:(0,s.jsxs)(m.A,{value:o,onChange:e=>{let s=e.target.value;t("time",s),[A.seconds,A.minutes,A.date].includes(s)||(n("seconds").isTouched||t("seconds",s),n("minutes").isTouched||t("minutes",(Number(s)/60).toString()))},children:[(0,s.jsxs)(x.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[(0,s.jsx)(p.A,{value:b.immediate,control:(0,s.jsx)(h.A,{}),label:l("immediate")}),(0,s.jsx)(p.A,{value:b.twoHours,control:(0,s.jsx)(h.A,{}),label:l("twoHours")}),(0,s.jsx)(p.A,{value:b.tenMinutes,control:(0,s.jsx)(h.A,{}),label:l("tenMinutes")}),(0,s.jsx)(p.A,{value:b.threeHours,control:(0,s.jsx)(h.A,{}),label:l("threeHours")}),(0,s.jsx)(p.A,{value:b.twentyMinutes,control:(0,s.jsx)(h.A,{}),label:l("twentyMinutes")}),(0,s.jsx)(p.A,{value:b.fourHours,control:(0,s.jsx)(h.A,{}),label:l("fourHours")}),(0,s.jsx)(p.A,{value:b.halfAnHour,control:(0,s.jsx)(h.A,{}),label:l("halfAnHour")}),(0,s.jsx)(p.A,{value:b.fiveHours,control:(0,s.jsx)(h.A,{}),label:l("fiveHours")}),(0,s.jsx)(p.A,{value:b.oneHour,control:(0,s.jsx)(h.A,{}),label:l("oneHour")}),(0,s.jsx)(p.A,{value:b.sixHours,control:(0,s.jsx)(h.A,{}),label:l("sixHours")})]}),(0,s.jsx)(p.A,{value:A.date,control:(0,s.jsx)(h.A,{}),label:(0,s.jsx)(P.$,{dateAdapter:U.R,children:(0,s.jsx)(R.K,{disablePast:!0,views:["year","day","hours","minutes","seconds"],value:a,onChange:e=>{t("date",e)},slotProps:{textField:{sx:{".MuiInputBase-input":{minWidth:"179px"}}}}})})}),(0,s.jsx)(p.A,{value:A.minutes,sx:{paddingTop:"12px"},control:(0,s.jsx)(h.A,{}),label:(0,s.jsxs)("div",{className:z().inputContainer,children:[(0,s.jsx)(M.A,{label:l("minutes"),variant:"outlined",value:r,onChange:e=>{t("minutes",e.target.value,{shouldTouch:!0})},InputProps:{inputProps:{min:0,max:5256e3,type:"number",inputMode:"numeric"}}}),r&&"0"!==r&&(0,s.jsxs)("div",{className:z().inputTextMin,children:["(",V(60*r),")"]})]})}),(0,s.jsx)(p.A,{value:A.seconds,sx:{paddingTop:"12px"},control:(0,s.jsx)(h.A,{}),label:(0,s.jsxs)("div",{className:z().inputContainer,children:[(0,s.jsx)(M.A,{label:l("seconds"),variant:"outlined",value:i,onChange:e=>{t("seconds",e.target.value,{shouldTouch:!0})},InputProps:{inputProps:{min:0,max:31536e4,type:"number",inputMode:"numeric"}}}),i&&"0"!==i&&(0,s.jsxs)("div",{className:z().inputTextSec,children:["(",V(i),")"]})]})})]})})]})}let K="shutdown",$=e=>{let{action:t,secondsToAction:n,isForced:s,isOneLine:o}=e,a=s?"/f ":"",i=o?" & ":g.win,r="".concat("/nobreak").concat(i).concat("rundll32.exe"),l="0"===n;switch(t){case f.shutdown:return"".concat(K," /s ").concat(a,"/t ").concat(n);case f.restart:return"".concat(K," /r ").concat(a,"/t ").concat(n);case f.logout:let c="".concat(K," /l ").concat(a);if(l)return c;return q({secondsToAction:n,cmd:c,action:"log off"});case f.lock:let u="".concat(r," user32.dll,LockWorkStation");if(l)return u;return q({secondsToAction:n,cmd:u,action:"lock"});case f.sleep:let d="".concat(r," powrprof.dll,SetSuspendState Sleep");if(l)return d;return q({secondsToAction:n,action:"sleep",cmd:d});case f.hibernate:let x="".concat(K," /h ").concat(a);if(l)return x;return q({secondsToAction:n,action:"hibernate",cmd:x});case f.abort:return"".concat(K," /a")}},q=e=>{let{secondsToAction:t,action:n,cmd:s}=e;return"@echo off\nset /a seconds=".concat(t,"\n\n:loop\ncls\necho The computer will ").concat(n," in %seconds% seconds. Close this window if you want to cancel\nset /a seconds-=1\nif %seconds% leq 0 goto lock\nping -n 2 127.0.0.1 >nul\ngoto loop\n\n:lock\n").concat(s)},X="sudo shutdown",G=e=>{let{action:t,secondsToAction:n,isOneLine:s}=e,o=s?" && ":g.masOs,a="0"===n?"now":"in "+V(Number(n));switch(t){case f.shutdown:return"".concat(X," -h +").concat(n,"sec").concat(o)+"osascript -e 'display notification \"The computer will shutdown ".concat(a,'" with title "Shutdown Notice"\'');case f.restart:return"".concat(X," -r +").concat(n,"sec").concat(o)+"osascript -e 'display notification \"The computer will restart ".concat(a,'" with title "Restart Notice"\'');case f.hibernate:case f.sleep:return"".concat(X," -s +").concat(n,"sec").concat(o)+"osascript -e 'display notification \"The computer will sleep ".concat(a,'" with title "Sleep Notice"\'');case f.abort:return"sudo killall shutdown";case f.lock:return"osascript -e 'display notification \"The computer will lock ".concat(a,'" with title "Lock Notice"\'').concat(o)+"sleep ".concat(n).concat(o)+"pmset displaysleepnow";case f.logout:return"osascript -e 'display notification \"The computer will logout ".concat(a,'" with title "Logout Notice"\'').concat(o)+"sleep ".concat(n).concat(o,"launchctl bootout user/$(id -u)")}},J=e=>{let t=e.os===v.MACOS,n=function(e){if(!e||!e.time)return"0";switch(e.time){case A.minutes:return e.minutes?(60*Number(e.minutes)).toString():"0";case A.seconds:return e.seconds||"0";case A.date:return e.date?Math.abs(F()().diff(e.date,"second")).toString():"0";default:return e.time}}(e);return t?G({secondsToAction:n,action:e.action,isOneLine:e.isOneLine}):$({secondsToAction:n,action:e.action,isForced:e.isForced,isOneLine:e.isOneLine})};var Q=n(67967),Z=n.n(Q),ee=n(95739);let et=()=>{let{control:e,setValue:t}=(0,u.xW)(),[n,a,i,r,l,c,d,h,m]=(0,u.FH)({control:e,name:["action","time","date","seconds","minutes","os","cmd","isForced","isOneLine"]}),p=J({action:n,time:a,date:i,seconds:r,minutes:l,os:c,isForced:h,isOneLine:m});return(0,o.useEffect)(()=>{t("cmd",p,{shouldTouch:!0})},[p]),(0,s.jsx)(x.A,{sx:{display:"flex",alignItems:"center",width:"100%"},children:(0,s.jsx)(ee.A,{onChange:e=>{t("cmd",e.target.value,{shouldTouch:!0})},className:Z().textarea,minRows:3,value:d})})};var en=n(99197),es=n.n(en);let eo=()=>{let{showSnackbar:e}=c();return{copyToClipboard:async t=>{try{await navigator.clipboard.writeText(t),e("Successfully copied!","success")}catch(t){console.error("Error copying text to clipboard:",t),e("Failed to copy text.","error")}}}},ea=e=>{let{code:t}=e,{copyToClipboard:n}=eo(),o=(0,y.useTranslations)();return(0,s.jsxs)(x.A,{sx:{display:"inline-flex",alignItems:"center",gap:"8px"},component:"code",children:[t,(0,s.jsx)("button",{onClick:()=>{n(t)},className:es().button,type:"button",children:o("copy")})]})},ei=()=>{let{control:e}=(0,u.xW)(),[t,n]=(0,u.FH)({control:e,name:["os","filename"]});return t===v.WINDOWS?null:(0,s.jsxs)(i.A,{sx:{mt:2.5,display:"flex",alignItems:"center","& .MuiAlert-message":{padding:0}},variant:"filled",severity:"info",children:["When downloading on macOS, be sure to run"," ",(0,s.jsx)(ea,{code:"chmod +x ~/Downloads/".concat(n)})," in ",(0,s.jsx)("b",{children:"Terminal"})]})};var er=n(22282);let el=()=>{let{control:e}=(0,u.xW)(),t=(0,u.FH)({control:e,name:"cmd"}),{copyToClipboard:n}=eo(),o=(0,y.useTranslations)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(x.A,{sx:{marginTop:"20px",display:"flex",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:[(0,s.jsx)(er.A,{onClick:()=>{n(t)},className:Z().button,type:"button",variant:"outlined",size:"large",children:o("copyCommand")}),(0,s.jsx)(er.A,{type:"submit",variant:"contained",size:"large",children:o("downloadFile")})]})})};var ec=n(28485);let eu={action:f.shutdown,time:b.twoHours.toString(),date:F()().add(2,"hour"),seconds:b.twoHours.toString(),minutes:"120",os:v.WINDOWS,isForced:!1,isOneLine:!1,filename:"",cmd:""},ed=()=>{let{handleSubmit:e,reset:t,...n}=(0,u.mN)({defaultValues:eu}),a=(0,y.useTranslations)();return(0,o.useEffect)(()=>{let e=new ec.O().getOS();t(t=>({...t,os:function(e){if(e){for(let[t,n]of w.entries())if(n.includes(e))return t}}(e.name)||v.WINDOWS,version:e.version}))},[]),(0,s.jsxs)(l,{children:[(0,s.jsx)(u.Op,{reset:t,handleSubmit:e,...n,children:(0,s.jsxs)("form",{onSubmit:e(e=>{!function(e,t,n){let s=new Blob([e],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(s,t);else{let e=document.createElement("a"),n=URL.createObjectURL(s);e.href=n,e.download=t,document.body.appendChild(e),e.click(),setTimeout(()=>{document.body.removeChild(e),URL.revokeObjectURL(n)},0)}}((e.os===v.MACOS?"#!/bin/bash".concat(g.masOs):"")+e.cmd,e.filename,"text/plain;charset=utf-8")}),children:[(0,s.jsx)(d.A,{variant:"h4",component:"h1",sx:{mb:1},children:a("shutdownTimer")}),(0,s.jsxs)(x.A,{sx:{my:4,justifyContent:"center",display:"flex",gap:"5px",flexWrap:"wrap"},children:[(0,s.jsx)("div",{children:(0,s.jsx)(S,{})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(H,{}),(0,s.jsxs)("div",{children:[(0,s.jsx)(W,{}),(0,s.jsx)(k,{})]}),(0,s.jsx)("div",{children:(0,s.jsx)(E,{})})]}),(0,s.jsx)("div",{children:(0,s.jsx)(Y,{})})]}),(0,s.jsx)(et,{}),(0,s.jsx)(ei,{}),(0,s.jsx)(el,{})]})}),(0,s.jsxs)(x.A,{sx:{my:4,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,s.jsx)(d.A,{component:"p",sx:{mb:2},children:a.rich("generate",{strong:e=>(0,s.jsx)("b",{children:e}),windows:"Windows Vista/7/8/10/11",macos:"MacOS"})}),(0,s.jsx)(d.A,{component:"p",sx:{mb:2},children:a.rich("noCoding",{strong:e=>(0,s.jsx)("b",{children:e})})})]})]})}},88161:e=>{e.exports={inputContainer:"ChooseTime_inputContainer__t_Coh",inputTextMin:"ChooseTime_inputTextMin__K4T0U",inputTextSec:"ChooseTime_inputTextSec__6VE4y"}},99197:e=>{e.exports={button:"CopyCode_button__2I_pI"}},67967:e=>{e.exports={textarea:"TextFieldCopy_textarea__jhwvL"}}}]);