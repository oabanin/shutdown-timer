(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7246:(e,t,n)=>{Promise.resolve().then(n.bind(n,9160))},9160:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var s=n(5155),o=n(2115),a=n(3345),r=n(810),l=n(5436),u=n(9393),i=n(257),c=n(615),d=n(2678),x=function(e){return e.shutdown="shutdown",e.restart="restart",e.sleep="sleep",e.hibernate="hibernate",e.logout="logout",e.lock="lock",e}({}),h=function(e){return e[e.immediate=0]="immediate",e[e.tenMinutes=600]="tenMinutes",e[e.twentyMinutes=1200]="twentyMinutes",e[e.halfAnHour=1800]="halfAnHour",e[e.oneHour=3600]="oneHour",e[e.twoHours=7200]="twoHours",e[e.threeHours=10800]="threeHours",e[e.fourHours=14400]="fourHours",e[e.fiveHours=18e3]="fiveHours",e[e.sixHours=21600]="sixHours",e}({}),m=function(e){return e.seconds="seconds",e.minutes="minutes",e.date="date",e}({}),j=function(e){return e.WINDOWS="Windows",e.MACOS="macOS",e.LINUX="Linux",e}({});let p=new Map([["Windows",["Windows"]],["macOS",["macOS"]],["Linux",["Linux","PCLinuxOS","VectorLinux","Unix","Ubuntu","Debian","Fedora"]]]);var f=n(9606);function A(){let{control:e,setValue:t}=(0,f.xW)(),n=(0,f.FH)({control:e,name:"action"});return(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:"Choose action"}),(0,s.jsx)(d.A,{children:(0,s.jsx)(i.A,{value:n,onChange:e=>{t("action",e.target.value)},children:(0,s.jsxs)(l.default,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[(0,s.jsx)(c.A,{value:x.shutdown,control:(0,s.jsx)(u.A,{}),label:"Shutdown"}),(0,s.jsx)(c.A,{value:x.hibernate,control:(0,s.jsx)(u.A,{}),label:"Hibernate"}),(0,s.jsx)(c.A,{value:x.restart,control:(0,s.jsx)(u.A,{}),label:"Restart"}),(0,s.jsx)(c.A,{value:x.logout,control:(0,s.jsx)(u.A,{}),label:"Logout"}),(0,s.jsx)(c.A,{value:x.sleep,control:(0,s.jsx)(u.A,{}),label:"Sleep"}),(0,s.jsx)(c.A,{value:x.lock,control:(0,s.jsx)(u.A,{}),label:"Lock"})]})})})]})}var v=n(5107),b=n(44),g=n(6847),w=n(277),S=n(8161),C=n.n(S);function H(e){let t=Math.floor(e/2592e3),n=Math.floor((e%=2592e3)/86400),s=Math.floor((e%=86400)/3600),o=Math.floor((e%=3600)/60),a=e%60,r={month:"mo",day:"d",hour:"h",minute:"min",second:"s"},l=(e,t)=>{if(0===e)return null;let n=r[t]||t;return"".concat(e).concat(n)};return[l(t,"month"),l(n,"day"),l(s,"hour"),l(o,"minute"),l(a,"second")].filter(Boolean).join(" ")}function O(){let{control:e,setValue:t,getFieldState:n}=(0,f.xW)(),[o,a,r,x]=(0,f.FH)({control:e,name:["time","date","seconds","minutes"]});return(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:"Choose time"}),(0,s.jsx)(d.A,{children:(0,s.jsxs)(i.A,{value:o,onChange:e=>{let s=e.target.value;t("time",s),[m.seconds,m.minutes,m.date].includes(s)||(n("seconds").isTouched||t("seconds",s),n("minutes").isTouched||t("minutes",Number(s)/60))},children:[(0,s.jsxs)(l.default,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[(0,s.jsx)(c.A,{value:h.immediate,control:(0,s.jsx)(u.A,{}),label:"Immediate"}),(0,s.jsx)(c.A,{value:h.twoHours,control:(0,s.jsx)(u.A,{}),label:"2 hours"}),(0,s.jsx)(c.A,{value:h.tenMinutes,control:(0,s.jsx)(u.A,{}),label:"10 minutes"}),(0,s.jsx)(c.A,{value:h.threeHours,control:(0,s.jsx)(u.A,{}),label:"3 hours"}),(0,s.jsx)(c.A,{value:h.twentyMinutes,control:(0,s.jsx)(u.A,{}),label:"20 minutes"}),(0,s.jsx)(c.A,{value:h.fourHours,control:(0,s.jsx)(u.A,{}),label:"4 hours"}),(0,s.jsx)(c.A,{value:h.halfAnHour,control:(0,s.jsx)(u.A,{}),label:"Half an hour"}),(0,s.jsx)(c.A,{value:h.fiveHours,control:(0,s.jsx)(u.A,{}),label:"5 hours"}),(0,s.jsx)(c.A,{value:h.oneHour,control:(0,s.jsx)(u.A,{}),label:"1 hour"}),(0,s.jsx)(c.A,{value:h.sixHours,control:(0,s.jsx)(u.A,{}),label:"6 hours"})]}),(0,s.jsx)(c.A,{value:m.date,control:(0,s.jsx)(u.A,{}),label:(0,s.jsx)(b.$,{dateAdapter:g.R,children:(0,s.jsx)(w.K,{disablePast:!0,views:["year","day","hours","minutes","seconds"],value:a,onChange:e=>{t("date",e)},slotProps:{textField:{sx:{".MuiInputBase-input":{minWidth:"179px"}}}}})})}),(0,s.jsx)(c.A,{value:m.minutes,sx:{paddingTop:"12px"},control:(0,s.jsx)(u.A,{}),label:(0,s.jsxs)("div",{className:C().inputContainer,children:[(0,s.jsx)(v.A,{label:"Minutes",variant:"outlined",value:x,onChange:e=>{t("minutes",e.target.value,{shouldTouch:!0})},InputProps:{inputProps:{min:0,max:5256e3,type:"number",inputMode:"numeric"}}}),x&&(0,s.jsxs)("div",{className:C().inputTextMin,children:["(",H(60*x),")"]})]})}),(0,s.jsx)(c.A,{value:m.seconds,sx:{paddingTop:"12px"},control:(0,s.jsx)(u.A,{}),label:(0,s.jsxs)("div",{className:C().inputContainer,children:[(0,s.jsx)(v.A,{label:"Seconds",variant:"outlined",value:r,onChange:e=>{t("seconds",e.target.value,{shouldTouch:!0})},InputProps:{inputProps:{min:0,max:31536e4,type:"number",inputMode:"numeric"}}}),r&&(0,s.jsxs)("div",{className:C().inputTextSec,children:["(",H(r),")"]})]})})]})})]})}function y(){let{control:e,setValue:t}=(0,f.xW)(),n=(0,f.FH)({control:e,name:"os"});return(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:"Choose OS"}),(0,s.jsx)(d.A,{children:(0,s.jsxs)(i.A,{value:n,onChange:e=>{t("os",e.target.value)},children:[(0,s.jsx)(c.A,{value:j.WINDOWS,control:(0,s.jsx)(u.A,{}),label:"Windows Vista/7/10/11"}),(0,s.jsx)(c.A,{value:j.MACOS,control:(0,s.jsx)(u.A,{}),label:"MacOS"}),(0,s.jsx)(c.A,{value:j.LINUX,control:(0,s.jsx)(u.A,{}),label:"Linux"})]})})]})}var M=n(1455),W=n.n(M);let k="shutdown",T="timeout /t",_="/nobreak\r\nrundll32.exe",N=e=>{let{action:t,secondsToAction:n}=e;switch(t){case x.shutdown:return"".concat(k," /s /t ").concat(n);case x.restart:return"".concat(k," /r /t ").concat(n);case x.logout:return"".concat(k," /l /t ").concat(n);case x.lock:return"".concat(T," ").concat(n," ").concat(_," user32.dll,LockWorkStation");case x.sleep:return"".concat(T," ").concat(n," ").concat(_," powrprof.dll,SetSuspendState Sleep");case x.hibernate:return"".concat(T," ").concat(n," ").concat(_," powrprof.dll,SetSuspendState Hibernate")}},L="sudo shutdown",I=e=>{let{action:t,secondsToAction:n}=e;switch(t){case x.shutdown:return"".concat(L," -h +").concat(n,"sec");case x.restart:return"".concat(L," -r +").concat(n,"sec");case x.logout:return"".concat(L," -k +").concat(n,"sec");case x.sleep:return"".concat(L," -s +").concat(n,"sec");case x.lock:case x.hibernate:return""}},U=e=>{let t=e.os===j.MACOS,n=function(e){if(!e||!e.time)return"0";switch(e.time){case m.minutes:return e.minutes?(60*Number(e.minutes)).toString():"0";case m.seconds:return e.seconds||"0";case m.date:return e.date?Math.abs(W()().diff(e.date,"second")).toString():"0";default:return e.time}}(e);return t?I({secondsToAction:n,action:e.action}):N({secondsToAction:n,action:e.action})};var F=n(9087),P=n.n(F);let B=()=>{let{control:e}=(0,f.xW)(),t=U((0,f.FH)({control:e}));return(0,s.jsx)(l.default,{sx:{display:"flex",alignItems:"center",width:"100%"},children:(0,s.jsx)(v.A,{className:P().textarea,multiline:!0,rows:3,value:t})})};var D=n(3726);function E(){let[e,t]=o.useState(!0);return(0,s.jsx)(c.A,{control:(0,s.jsx)(D.A,{checked:e,onChange:e=>{t(e.target.checked)}}),label:"Force shutdown"})}var R=n(8485);function V(){let[e,t]=o.useState(!0);return(0,s.jsx)(c.A,{control:(0,s.jsx)(D.A,{checked:e,onChange:e=>{t(e.target.checked)}}),label:"One line command"})}var z=n(2282);let K=()=>{let{control:e}=(0,f.xW)(),t=(0,f.FH)({control:e,name:"os"})===j.MACOS?"sh":"bat";return(0,s.jsxs)(l.default,{sx:{marginTop:"20px",display:"flex",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:[(0,s.jsx)(z.A,{className:P().button,type:"button",variant:"outlined",size:"large",children:"Copy command"}),(0,s.jsxs)(z.A,{type:"submit",variant:"contained",size:"large",children:["Download ",t," file"]})]})},X={action:x.shutdown,time:h.twoHours.toString(),date:W()().add(2,"hour"),seconds:h.twoHours.toString(),minutes:"120",os:j.WINDOWS};function $(){let{handleSubmit:e,reset:t,...n}=(0,f.mN)({defaultValues:X});return(0,o.useEffect)(()=>{let e=new R.O().getOS();t(t=>({...t,os:function(e){if(e){for(let[t,n]of p.entries())if(n.includes(e))return t}}(e.name)||j.WINDOWS,version:e.version}))},[]),(0,s.jsx)(f.Op,{reset:t,handleSubmit:e,...n,children:(0,s.jsx)("form",{onSubmit:e(e=>{let t=U(e),n=e.os===j.MACOS;!function(e,t,n){let s=new Blob([e],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(s,t);else{let e=document.createElement("a"),n=URL.createObjectURL(s);e.href=n,e.download=t,document.body.appendChild(e),e.click(),setTimeout(()=>{document.body.removeChild(e),URL.revokeObjectURL(n)},0)}}(t,"test.".concat(n?"sh":"bat"),"text/plain;charset=utf-8")}),children:(0,s.jsxs)(a.default,{maxWidth:"lg",children:[(0,s.jsx)(r.default,{variant:"h4",component:"h1",sx:{mb:2},children:"Shutdown timer"}),(0,s.jsxs)(l.default,{sx:{my:4,justifyContent:"center",display:"flex",gap:"5px",flexWrap:"wrap"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(y,{}),(0,s.jsx)(A,{}),(0,s.jsx)(E,{}),(0,s.jsx)(V,{})]}),(0,s.jsx)(O,{})]}),(0,s.jsx)(B,{}),(0,s.jsx)(K,{})]})})})}},9087:e=>{e.exports={textarea:"BoxCopy_textarea__rHbyk"}},8161:e=>{e.exports={inputContainer:"ChooseTime_inputContainer__t_Coh",inputTextMin:"ChooseTime_inputTextMin__K4T0U",inputTextSec:"ChooseTime_inputTextSec__6VE4y"}}},e=>{var t=t=>e(e.s=t);e.O(0,[387,737,263,639,441,517,358],()=>t(7246)),_N_E=e.O()}]);