(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7246:(e,t,n)=>{Promise.resolve().then(n.bind(n,2326))},2326:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Q});var o=n(5155),s=n(2115),a=n(3345),r=n(810),l=n(5436),i=n(9393),c=n(257),u=n(615),d=n(2678),x=function(e){return e.shutdown="shutdown",e.restart="restart",e.sleep="sleep",e.hibernate="hibernate",e.logout="logout",e.lock="lock",e}({}),h=function(e){return e[e.immediate=0]="immediate",e[e.tenMinutes=600]="tenMinutes",e[e.twentyMinutes=1200]="twentyMinutes",e[e.halfAnHour=1800]="halfAnHour",e[e.oneHour=3600]="oneHour",e[e.twoHours=7200]="twoHours",e[e.threeHours=10800]="threeHours",e[e.fourHours=14400]="fourHours",e[e.fiveHours=18e3]="fiveHours",e[e.sixHours=21600]="sixHours",e}({}),m=function(e){return e.seconds="seconds",e.minutes="minutes",e.date="date",e}({}),j=function(e){return e.WINDOWS="Windows",e.MACOS="macOS",e.LINUX="Linux",e}({});let f=new Map([["Windows",["Windows"]],["macOS",["macOS"]],["Linux",["Linux","PCLinuxOS","VectorLinux","Unix","Ubuntu","Debian","Fedora"]]]);var p=n(9606);function v(){let{control:e,setValue:t}=(0,p.xW)(),n=(0,p.FH)({control:e,name:"action"});return(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:"Choose action"}),(0,o.jsx)(d.A,{children:(0,o.jsx)(c.A,{value:n,onChange:e=>{t("action",e.target.value)},children:(0,o.jsxs)(l.default,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[(0,o.jsx)(u.A,{value:x.shutdown,control:(0,o.jsx)(i.A,{}),label:"Shutdown"}),(0,o.jsx)(u.A,{value:x.hibernate,control:(0,o.jsx)(i.A,{}),label:"Hibernate"}),(0,o.jsx)(u.A,{value:x.restart,control:(0,o.jsx)(i.A,{}),label:"Restart"}),(0,o.jsx)(u.A,{value:x.logout,control:(0,o.jsx)(i.A,{}),label:"Logout"}),(0,o.jsx)(u.A,{value:x.sleep,control:(0,o.jsx)(i.A,{}),label:"Sleep"}),(0,o.jsx)(u.A,{value:x.lock,control:(0,o.jsx)(i.A,{}),label:"Lock"})]})})})]})}var A=n(5107),b=n(44),g=n(6847),w=n(277),S=n(8161),C=n.n(S);function H(e){let t=Math.floor(e/2592e3),n=Math.floor((e%=2592e3)/86400),o=Math.floor((e%=86400)/3600),s=Math.floor((e%=3600)/60),a=e%60,r={month:"mo",day:"d",hour:"h",minute:"min",second:"s"},l=(e,t)=>{if(0===e)return null;let n=r[t]||t;return"".concat(e).concat(n)};return[l(t,"month"),l(n,"day"),l(o,"hour"),l(s,"minute"),l(a,"second")].filter(Boolean).join(" ")}function O(){let{control:e,setValue:t,getFieldState:n}=(0,p.xW)(),[s,a,r,x]=(0,p.FH)({control:e,name:["time","date","seconds","minutes"]});return(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:"Choose time"}),(0,o.jsx)(d.A,{children:(0,o.jsxs)(c.A,{value:s,onChange:e=>{let o=e.target.value;t("time",o),[m.seconds,m.minutes,m.date].includes(o)||(n("seconds").isTouched||t("seconds",o),n("minutes").isTouched||t("minutes",(Number(o)/60).toString()))},children:[(0,o.jsxs)(l.default,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[(0,o.jsx)(u.A,{value:h.immediate,control:(0,o.jsx)(i.A,{}),label:"Immediate"}),(0,o.jsx)(u.A,{value:h.twoHours,control:(0,o.jsx)(i.A,{}),label:"2 hours"}),(0,o.jsx)(u.A,{value:h.tenMinutes,control:(0,o.jsx)(i.A,{}),label:"10 minutes"}),(0,o.jsx)(u.A,{value:h.threeHours,control:(0,o.jsx)(i.A,{}),label:"3 hours"}),(0,o.jsx)(u.A,{value:h.twentyMinutes,control:(0,o.jsx)(i.A,{}),label:"20 minutes"}),(0,o.jsx)(u.A,{value:h.fourHours,control:(0,o.jsx)(i.A,{}),label:"4 hours"}),(0,o.jsx)(u.A,{value:h.halfAnHour,control:(0,o.jsx)(i.A,{}),label:"Half an hour"}),(0,o.jsx)(u.A,{value:h.fiveHours,control:(0,o.jsx)(i.A,{}),label:"5 hours"}),(0,o.jsx)(u.A,{value:h.oneHour,control:(0,o.jsx)(i.A,{}),label:"1 hour"}),(0,o.jsx)(u.A,{value:h.sixHours,control:(0,o.jsx)(i.A,{}),label:"6 hours"})]}),(0,o.jsx)(u.A,{value:m.date,control:(0,o.jsx)(i.A,{}),label:(0,o.jsx)(b.$,{dateAdapter:g.R,children:(0,o.jsx)(w.K,{disablePast:!0,views:["year","day","hours","minutes","seconds"],value:a,onChange:e=>{t("date",e)},slotProps:{textField:{sx:{".MuiInputBase-input":{minWidth:"179px"}}}}})})}),(0,o.jsx)(u.A,{value:m.minutes,sx:{paddingTop:"12px"},control:(0,o.jsx)(i.A,{}),label:(0,o.jsxs)("div",{className:C().inputContainer,children:[(0,o.jsx)(A.A,{label:"Minutes",variant:"outlined",value:x,onChange:e=>{t("minutes",e.target.value,{shouldTouch:!0})},InputProps:{inputProps:{min:0,max:5256e3,type:"number",inputMode:"numeric"}}}),x&&"0"!==x&&(0,o.jsxs)("div",{className:C().inputTextMin,children:["(",H(60*x),")"]})]})}),(0,o.jsx)(u.A,{value:m.seconds,sx:{paddingTop:"12px"},control:(0,o.jsx)(i.A,{}),label:(0,o.jsxs)("div",{className:C().inputContainer,children:[(0,o.jsx)(A.A,{label:"Seconds",variant:"outlined",value:r,onChange:e=>{t("seconds",e.target.value,{shouldTouch:!0})},InputProps:{inputProps:{min:0,max:31536e4,type:"number",inputMode:"numeric"}}}),r&&"0"!==r&&(0,o.jsxs)("div",{className:C().inputTextSec,children:["(",H(r),")"]})]})})]})})]})}function y(){let{control:e,setValue:t}=(0,p.xW)(),n=(0,p.FH)({control:e,name:"os"});return(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:"Choose OS"}),(0,o.jsx)(d.A,{children:(0,o.jsxs)(c.A,{value:n,onChange:e=>{t("os",e.target.value)},children:[(0,o.jsx)(u.A,{value:j.WINDOWS,control:(0,o.jsx)(i.A,{}),label:"Windows Vista/7/10/11"}),(0,o.jsx)(u.A,{value:j.MACOS,control:(0,o.jsx)(i.A,{}),label:"MacOS"}),(0,o.jsx)(u.A,{value:j.LINUX,control:(0,o.jsx)(i.A,{}),label:"Linux"})]})})]})}var M=n(1455),T=n.n(M);let k="shutdown",W="timeout /t",_="/nobreak\r\nrundll32.exe",N=e=>{let{action:t,secondsToAction:n}=e;switch(t){case x.shutdown:return"".concat(k," /s /t ").concat(n);case x.restart:return"".concat(k," /r /t ").concat(n);case x.logout:return"".concat(k," /l /t ").concat(n);case x.lock:return"".concat(W," ").concat(n," ").concat(_," user32.dll,LockWorkStation");case x.sleep:return"".concat(W," ").concat(n," ").concat(_," powrprof.dll,SetSuspendState Sleep");case x.hibernate:return"".concat(W," ").concat(n," ").concat(_," powrprof.dll,SetSuspendState Hibernate")}},L="sudo shutdown",F=e=>{let{action:t,secondsToAction:n}=e;switch(t){case x.shutdown:return"".concat(L," -h +").concat(n,"sec");case x.restart:return"".concat(L," -r +").concat(n,"sec");case x.logout:return"".concat(L," -k +").concat(n,"sec");case x.sleep:return"".concat(L," -s +").concat(n,"sec");case x.lock:case x.hibernate:return""}},I=e=>{let t=e.os===j.MACOS,n=function(e){if(!e||!e.time)return"0";switch(e.time){case m.minutes:return e.minutes?(60*Number(e.minutes)).toString():"0";case m.seconds:return e.seconds||"0";case m.date:return e.date?Math.abs(T()().diff(e.date,"second")).toString():"0";default:return e.time}}(e);return t?F({secondsToAction:n,action:e.action}):N({secondsToAction:n,action:e.action})};var E=n(7967),U=n.n(E);let D=()=>{let{control:e,setValue:t}=(0,p.xW)(),[n,a,r,i,c,u,d]=(0,p.FH)({control:e,name:["action","time","date","seconds","minutes","os","cmd"]}),x=I({action:n,time:a,date:r,seconds:i,minutes:c,os:u});return(0,s.useEffect)(()=>{t("cmd",x,{shouldTouch:!0})},[x]),(0,o.jsx)(l.default,{sx:{display:"flex",alignItems:"center",width:"100%"},children:(0,o.jsx)(A.A,{onChange:e=>{t("cmd",e.target.value,{shouldTouch:!0})},className:U().textarea,multiline:!0,rows:3,value:d})})};var P=n(3726);function R(){let[e,t]=s.useState(!0);return(0,o.jsx)(u.A,{control:(0,o.jsx)(P.A,{checked:e,onChange:e=>{t(e.target.checked)}}),label:"Force shutdown"})}var B=n(8485);function Y(){let[e,t]=s.useState(!0);return(0,o.jsx)(u.A,{control:(0,o.jsx)(P.A,{checked:e,onChange:e=>{t(e.target.checked)}}),label:"One line command"})}var V=n(2282);let z=()=>{let{control:e}=(0,p.xW)(),t=(0,p.FH)({control:e,name:"cmd"});return(0,o.jsxs)(l.default,{sx:{marginTop:"20px",display:"flex",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:[(0,o.jsx)(V.A,{onClick:()=>{navigator.clipboard.writeText(t).then(()=>{console.log("ok")}).catch(e=>{console.error("Error copying text to clipboard:",e)})},className:U().button,type:"button",variant:"outlined",size:"large",children:"Copy command"}),(0,o.jsx)(V.A,{type:"submit",variant:"contained",size:"large",children:"Download file"})]})};function K(e,t){return Object.values(t).map(String).includes(String(e))}let X=e=>{let t,{action:n,os:o,time:s,date:a,seconds:r,minutes:l}=e,i=o===j.MACOS;return K(s,h)&&(t=function(e,t){return Object.keys(t).find(n=>String(t[n])===String(e))}(s,h)),K(s,m)&&(s===m.minutes&&(t=l+"min"),s===m.seconds&&(t=r+"sec"),s===m.date&&(t=a.isSame(T()(),"day")?$(a):q(a))),"".concat(n,"_").concat(t||"").concat(i?".sh":".bat")},$=e=>e.format("HHmm"),q=e=>{let t=e.format("YYYY-MM-DD"),n=e.format("HH-mm");return"".concat(t,"_").concat(n)},G=()=>{let{control:e,setValue:t,getFieldState:n}=(0,p.xW)(),[a,r,l,i,c,u,d]=(0,p.FH)({control:e,name:["action","time","date","seconds","minutes","os","filename"]}),x=X({action:a,time:r,date:l,seconds:i,minutes:c,os:u});return(0,s.useEffect)(()=>{n("filename").isTouched||t("filename",x)},[x]),(0,o.jsx)(A.A,{onChange:e=>{t("filename",e.target.value,{shouldTouch:!0})},sx:{width:"100%"},label:"Filename",value:d})},J={action:x.shutdown,time:h.twoHours.toString(),date:T()().add(2,"hour"),seconds:h.twoHours.toString(),minutes:"120",os:j.WINDOWS,filename:"",cmd:""};function Q(){let{handleSubmit:e,reset:t,...n}=(0,p.mN)({defaultValues:J});return(0,s.useEffect)(()=>{let e=new B.O().getOS();t(t=>({...t,os:function(e){if(e){for(let[t,n]of f.entries())if(n.includes(e))return t}}(e.name)||j.WINDOWS,version:e.version}))},[]),(0,o.jsx)(p.Op,{reset:t,handleSubmit:e,...n,children:(0,o.jsx)("form",{onSubmit:e(e=>{let t=I(e),n=e.os===j.MACOS;!function(e,t,n){let o=new Blob([e],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,t);else{let e=document.createElement("a"),n=URL.createObjectURL(o);e.href=n,e.download=t,document.body.appendChild(e),e.click(),setTimeout(()=>{document.body.removeChild(e),URL.revokeObjectURL(n)},0)}}((n?"#!/bin/bash\r\n":"")+t,"test.".concat(n?"sh":"bat"),"text/plain;charset=utf-8")}),children:(0,o.jsxs)(a.default,{maxWidth:"lg",children:[(0,o.jsx)(r.default,{variant:"h4",component:"h1",sx:{mb:2},children:"Shutdown timer"}),(0,o.jsxs)(l.default,{sx:{my:4,justifyContent:"center",display:"flex",gap:"5px",flexWrap:"wrap"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(y,{}),(0,o.jsx)(v,{}),(0,o.jsx)(R,{}),(0,o.jsx)(Y,{}),(0,o.jsx)("div",{children:(0,o.jsx)(G,{})})]}),(0,o.jsx)(O,{})]}),(0,o.jsx)(D,{}),(0,o.jsx)(z,{})]})})})}},8161:e=>{e.exports={inputContainer:"ChooseTime_inputContainer__t_Coh",inputTextMin:"ChooseTime_inputTextMin__K4T0U",inputTextSec:"ChooseTime_inputTextSec__6VE4y"}},7967:e=>{e.exports={textarea:"TextFieldCopy_textarea__jhwvL"}}},e=>{var t=t=>e(e.s=t);e.O(0,[171,737,263,639,441,517,358],()=>t(7246)),_N_E=e.O()}]);